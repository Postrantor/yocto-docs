---
tip: translate by openai@2023-06-10 12:17:13
...
---
title: Creating a Software Bill of Materials
--------------------------------------------

Once you are able to build an image for your project, once the licenses for each software component are all identified (see \"`dev-manual/licenses:working with licenses`\"), the OpenEmbedded build system can generate a description of all the components you used, their licenses, their dependencies, their sources, the changes that were applied to them and the known vulnerabilities that were fixed.

> 一旦您能够为您的项目构建一个镜像，一旦为每个软件组件都识别出许可证(参见“dev-manual / licenses：处理许可证”)，并且一旦应用漏洞修复(参见“dev-manual / vulnerabilities：检查漏洞”)，OpenEmbedded 构建系统就可以生成您使用的所有组件、它们的许可证、它们的依赖项、它们的源、对它们所做的更改以及已修复的已知漏洞的描述。

This description is generated in the form of a *Software Bill of Materials* (`SBOM` standard.

> 这个描述是使用 `SPDX` 标准以*软件物料清单*(`SBOM`)的形式生成的。

When you release software, this is the most standard way to provide information about the Software Supply Chain of your software image and SDK. The `SBOM` tooling is often used to ensure open source license compliance by providing the license texts used in the product which legal departments and end users can read in standardized format.

> 当您发布软件时，这是提供有关软件供应链的信息的最常见方式。SBOM 工具通常用于通过提供产品中使用的许可文本来确保开源许可协议的遵守，法律部门和最终用户可以以标准格式阅读。

`SBOM` information is also critical to performing vulnerability exposure assessments, as all the components used in the Software Supply Chain are listed.

> SBOM 信息对于执行漏洞暴露评估也至关重要，因为软件供应链中使用的所有组件都列出来了。

The OpenEmbedded build system doesn\'t generate such information by default. To make this happen, you must inherit the `ref-classes-create-spdx` class from a configuration file:

> 开放式嵌入式构建系统默认不会生成此类信息。要实现此目的，您必须从配置文件继承 `ref-classes-create-spdx` 类。

```
INHERIT += "create-spdx"
```

You then get `SPDX`.

> 然后，您将在构建目录中的 `tmp/deploy/images/MACHINE/` 中获得以 JSON 格式的 `IMAGE-MACHINE.spdx.json` 文件作为 `SPDX` 输出。

This is a toplevel file accompanied by an `IMAGE-MACHINE.spdx.index.json` containing an index of JSON `SPDX` files for individual recipes, together with an `IMAGE-MACHINE.spdx.tar.zst` compressed archive containing all such files.

> 这是一个顶级文件，附带有一个包含单个配方 JSON SPDX 文件索引的 IMAGE-MACHINE.spdx.index.json，以及一个包含所有这些文件的 IMAGE-MACHINE.spdx.tar.zst 压缩档案。

The `ref-classes-create-spdx`).

> 类 `ref-classes-create-spdx` 提供了在输出 `SPDX` 数据中包含更多信息的选项，例如使生成的文件更易于阅读(`SPDX_PRETTY`)，在生成的目标包中添加压缩存档文件(`SPDX_ARCHIVE_PACKAGED`)，添加用于生成主机工具和目标包的源文件的描述(`SPDX_INCLUDE_SOURCES`)以及添加这些源文件本身的存档(`SPDX_ARCHIVE_SOURCES`)。

Though the toplevel `SPDX`, ancillary generated files are available in `tmp/deploy/spdx/MACHINE` too, such as:

> 尽管 `SPDX` 中的 `tmp/deploy/images/MACHINE/` 中找到，但辅助生成的文件也可以在 `tmp/deploy/spdx/MACHINE` 中找到，比如：

- The individual `SPDX` JSON files in the `IMAGE-MACHINE.spdx.tar.zst` archive.
- Compressed archives of the files in the generated target packages, in `packages/packagename.tar.zst` (when `SPDX_ARCHIVE_PACKAGED` is set).

> 压缩的目标包中文件的存档，在 `packages/packagename.tar.zst` 中(当 `SPDX_ARCHIVE_PACKAGED` 被设置时)。

- Compressed archives of the source files used to build the host tools and the target packages in `recipes/recipe-packagename.tar.zst` (when `SPDX_ARCHIVE_SOURCES` is set). Those are needed to fulfill \"source code access\" license requirements.

> 压缩档案的源文件用于构建主机工具和目标软件包在 `recipes/recipe-packagename.tar.zst`(当 `SPDX_ARCHIVE_SOURCES` 被设置时)。这些文件是必需的，以满足“源代码访问”许可要求。

See also the `SPDX_CUSTOM_ANNOTATION_VARS` variable which allows to associate custom notes to a recipe.

See the [tools page](https://spdx.dev/resources/tools/) on the `SPDX` data generated by the OpenEmbedded build system.

> 查看 SPDX 项目网站上的[工具页面](https://spdx.dev/resources/tools/)，可以找到一份由 OpenEmbedded 构建系统生成的 SPDX 数据消费和转换的工具列表。

See also Joshua Watt\'s [Automated SBoM generation with OpenEmbedded and the Yocto Project](https://youtu.be/Q5UQUM6zxVU) presentation at FOSDEM 2023.

> 另请参阅 Joshua Watt 在 2023 年 FOSDEM 上的演讲《使用 OpenEmbedded 和 Yocto Project 进行自动 SBoM 生成》(https://youtu.be/Q5UQUM6zxVU)。
